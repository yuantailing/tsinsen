<div>双栈排序</div>
<div>时间限制：1.0s 内存限制：512.0MB</div>
<p style="margin: 0cm 0cm 0pt" class="MsoNormal"><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'"><font size="3">【问题描述】</font></span></p>
<p style="margin: 0cm 0cm 0pt" class="MsoNormalIndent"><font size="3"><span lang="EN-US"><font face="Times New Roman">Tom</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">最近在研究一个有趣的排序问题。</span></font></p>
<p style="margin: 0cm 0cm 0pt" class="MsoNormalIndent"><font size="3"><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'"><img width="197" height="163" alt="" src="/RequireFile.do?fid=MHethfyT" />.</span></font></p>
<p style="margin: 0cm 0cm 0pt" class="MsoNormalIndent">&nbsp;</p>
<p style="margin: 0cm 0cm 0pt" class="MsoNormalIndent">&nbsp;</p>
<p style="margin: 0cm 0cm 0pt" class="MsoNormalIndent"><font size="3"><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">如图所示，通过</span><span lang="EN-US"><font face="Times New Roman">2</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">个栈</span><span lang="EN-US"><font face="Times New Roman">S1</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">和</span><span lang="EN-US"><font face="Times New Roman">S2</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">，</span><span lang="EN-US"><font face="Times New Roman">Tom</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">希望借助以下</span><span lang="EN-US"><font face="Times New Roman">4</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">种操作实现将输入序列升序排序。</span></font></p>
<p style="margin: 0cm 0cm 0pt" class="MsoNormalIndent"><font size="3"><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">操作</span><span lang="EN-US"><font face="Times New Roman">a</font></span></font></p>
<p style="margin: 0cm 0cm 0pt" class="MsoNormalIndent"><font size="3"><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">如果输入序列不为空，将第一个元素压入栈</span><span lang="EN-US"><font face="Times New Roman">S1</font></span></font></p>
<p style="margin: 0cm 0cm 0pt" class="MsoNormalIndent"><v:shapetype id="_x0000_t75" stroked="f" filled="f" path="m@4@5l@4@11@9@11@9@5xe" o:preferrelative="t" o:spt="75" coordsize="21600,21600"><v:stroke joinstyle="miter"></v:stroke><v:formulas><v:f eqn="if lineDrawn pixelLineWidth 0"></v:f><v:f eqn="sum @0 1 0"></v:f><v:f eqn="sum 0 0 @1"></v:f><v:f eqn="prod @2 1 2"></v:f><v:f eqn="prod @3 21600 pixelWidth"></v:f><v:f eqn="prod @3 21600 pixelHeight"></v:f><v:f eqn="sum @0 0 1"></v:f><v:f eqn="prod @6 1 2"></v:f><v:f eqn="prod @7 21600 pixelWidth"></v:f><v:f eqn="sum @8 21600 0"></v:f><v:f eqn="prod @7 21600 pixelHeight"></v:f><v:f eqn="sum @10 21600 0"></v:f></v:formulas><v:path o:connecttype="rect" gradientshapeok="t" o:extrusionok="f"></v:path><o:lock aspectratio="t" v:ext="edit"></o:lock></v:shapetype><font size="3"><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">操作</span><span lang="EN-US"><font face="Times New Roman">b</font></span></font></p>
<p style="margin: 0cm 0cm 0pt" class="MsoNormalIndent"><font size="3"><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">如果栈</span><span lang="EN-US"><font face="Times New Roman">S1</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">不为空，将</span><span lang="EN-US"><font face="Times New Roman">S1</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">栈顶元素弹出至输出序列</span></font></p>
<p style="margin: 0cm 0cm 0pt" class="MsoNormalIndent"><font size="3"><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">操作</span><span lang="EN-US"><font face="Times New Roman">c</font></span></font></p>
<p style="margin: 0cm 0cm 0pt" class="MsoNormalIndent"><font size="3"><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">如果输入序列不为空，将第一个元素压入栈</span><span lang="EN-US"><font face="Times New Roman">S2</font></span></font></p>
<p style="margin: 0cm 0cm 0pt" class="MsoNormalIndent"><font size="3"><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">操作</span><span lang="EN-US"><font face="Times New Roman">d</font></span></font></p>
<p style="margin: 0cm 0cm 0pt" class="MsoNormalIndent"><font size="3"><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">如果栈</span><span lang="EN-US"><font face="Times New Roman">S2</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">不为空，将</span><span lang="EN-US"><font face="Times New Roman">S2</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">栈顶元素弹出至输出序列</span></font></p>
<p style="margin: 0cm 0cm 0pt" class="MsoNormalIndent"><font size="3"><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">如果一个</span><span lang="EN-US"><font face="Times New Roman">1~n</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">的排列</span><span lang="EN-US"><font face="Times New Roman">P</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">可以通过一系列操作使得输出序列为</span><span lang="EN-US"><font face="Times New Roman">1</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">，</span><span lang="EN-US"><font face="Times New Roman">2</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">，&hellip;，</span><span lang="EN-US"><font face="Times New Roman">(n-1)</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">，</span><span lang="EN-US"><font face="Times New Roman">n</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">，</span><span lang="EN-US"><font face="Times New Roman">Tom</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">就称</span><span lang="EN-US"><font face="Times New Roman">P</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">是一个&ldquo;可双栈排序排列&rdquo;。例如</span><span lang="EN-US"><font face="Times New Roman">(1,3,2,4)</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">就是一个&ldquo;可双栈排序序列&rdquo;，而</span><span lang="EN-US"><font face="Times New Roman">(2,3,4,1)</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">不是。下图描述了一个将</span><span lang="EN-US"><font face="Times New Roman">(1,3,2,4)</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">排序的操作序列：</span><span lang="EN-US"><font face="Times New Roman">&lt;a,c,c,b,a,d,d,b&gt;</font></span></font></p>
<p style="margin: 0cm 0cm 0pt" class="MsoNormalIndent"><font size="3"><span lang="EN-US"><font face="Times New Roman"><img width="487" height="556" alt="" src="/RequireFile.do?fid=TNYRmaaL" />.</font></span></font></p>
<p style="text-align: center; margin: 0cm 0cm 0pt" class="MsoNormal" align="center">&nbsp;</p>
<p style="margin: 0cm 0cm 0pt" class="MsoNormalIndent"><font size="3"><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">当然，这样的操作序列有可能有几个，对于上例</span><span lang="EN-US"><font face="Times New Roman">(1,3,2,4)</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">，</span><span lang="EN-US"><font face="Times New Roman">&lt;a,c,c,b,a,d,d,b&gt;</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">是另外一个可行的操作序列。</span><span lang="EN-US"><font face="Times New Roman">Tom</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">希望知道其中字典序最小的操作序列是什么。</span></font></p>
<p style="margin: 0cm 0cm 0pt" class="MsoNormal"><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'"><font size="3">【输入】</font></span></p>
<p style="margin: 0cm 0cm 0pt" class="MsoNormalIndent"><font size="3"><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">输入</span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">的第一行是一个整数</span><span lang="EN-US"><font face="Times New Roman">n</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">。</span></font></p>
<p style="margin: 0cm 0cm 0pt" class="MsoNormalIndent"><font size="3"><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">第二行有</span><span lang="EN-US"><font face="Times New Roman">n</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">个用空格隔开的正整数，构成一个</span><span lang="EN-US"><font face="Times New Roman">1~n</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">的排列。</span></font></p>
<p style="margin: 0cm 0cm 0pt" class="MsoNormal"><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'"><font size="3">【输出】</font></span></p>
<p style="margin: 0cm 0cm 0pt" class="MsoNormalIndent"><font size="3"><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">输出</span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">一行，如果输入的排列不是&ldquo;可双栈排序排列&rdquo;，输出数字</span><span lang="EN-US"><font face="Times New Roman">0</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">；否则输出字典序最小的操作序列，每两个操作之间用空格隔开，行尾没有空格。</span></font></p>
<p style="margin: 0cm 0cm 0pt" class="MsoNormalIndent">&nbsp;</p>
<p style="margin: 0cm 0cm 0pt" class="MsoNormalIndent"><span style="font-family: 宋体; font-size: medium;">【样例输入</span><span style="font-family: 宋体; font-size: medium;">】</span></p>
<p style="margin: 0cm 0cm 0pt" class="MsoNormalIndent">&nbsp;</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><font size="3" face="Times New Roman">4</font></span></p>
<p class="MsoNormalIndent" style="margin: 0cm 0cm 0pt;"><span style="font-family: 'Times New Roman'; font-size: medium;">1 3 2 4</span></p>
<p class="MsoNormalIndent" style="margin: 0cm 0cm 0pt;">&nbsp;</p>
<p class="MsoNormalIndent" style="margin: 0cm 0cm 0pt;"><span style="font-family: 宋体; font-size: medium;">【样例输出</span><span style="font-family: 宋体; font-size: medium;">】</span></p>
<p class="MsoNormalIndent" style="margin: 0cm 0cm 0pt;">&nbsp;</p>
<p class="MsoNormalIndent" style="margin: 0cm 0cm 0pt;"><span style="font-family: 'Times New Roman'; font-size: medium;">a b a a b b a b</span></p>
<div>
<p class="MsoNormalIndent" style="margin: 0cm 0cm 0pt;"><span style="font-family: 宋体; font-size: medium;">【样例输入</span><span style="font-family: 宋体; font-size: medium;">】</span></p>
<p class="MsoNormalIndent" style="margin: 0cm 0cm 0pt;">&nbsp;</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><font size="3" face="Times New Roman">4</font></span></p>
<p class="MsoNormalIndent" style="margin: 0cm 0cm 0pt;"><span style="font-family: 'Times New Roman'; font-size: medium;">2 3 4 1</span></p>
<p class="MsoNormalIndent" style="margin: 0cm 0cm 0pt;">&nbsp;</p>
<p class="MsoNormalIndent" style="margin: 0cm 0cm 0pt;"><span style="font-family: 宋体; font-size: medium;">【样例输出</span><span style="font-family: 宋体; font-size: medium;">】</span></p>
</div>
<div>
<p class="MsoNormalIndent" style="margin: 0cm 0cm 0pt;"><span style="font-family: 'Times New Roman'; font-size: medium;">0</span></p>
<p class="MsoNormalIndent" style="margin: 0cm 0cm 0pt;">&nbsp;</p>
<p class="MsoNormalIndent" style="margin: 0cm 0cm 0pt;"><span style="font-family: 宋体; font-size: medium;">【样例输入</span><span style="font-family: 宋体; font-size: medium;">】</span></p>
<p class="MsoNormalIndent" style="margin: 0cm 0cm 0pt;">&nbsp;</p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><font size="3" face="Times New Roman">3</font></span></p>
<p class="MsoNormalIndent" style="margin: 0cm 0cm 0pt;"><span style="font-family: 'Times New Roman'; font-size: medium;">2 3 1</span></p>
<p class="MsoNormalIndent" style="margin: 0cm 0cm 0pt;">&nbsp;</p>
<p class="MsoNormalIndent" style="margin: 0cm 0cm 0pt;"><span style="font-family: 宋体; font-size: medium;">【样例输出</span><span style="font-family: 宋体; font-size: medium;">】</span></p>
</div>
<div><span style="font-family: 'Times New Roman'; font-size: medium;">a c a b b d</span></div>
<p style="margin: 0cm 0cm 0pt" class="MsoNormalIndent"><span style="font-size: medium; font-family: 宋体;">【限制】</span></p>
<p style="margin: 0cm 0cm 0pt" class="MsoNormalIndent"><font size="3"><span lang="EN-US"><font face="Times New Roman">30%</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">的数据满足：</span><span lang="EN-US"><font face="Times New Roman"> n&lt;=10</font></span></font></p>
<p style="margin: 0cm 0cm 0pt" class="MsoNormalIndent"><font size="3"><span lang="EN-US"><font face="Times New Roman">50%</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">的数据满足：</span><span lang="EN-US"><font face="Times New Roman"> n&lt;=50</font></span></font></p>
<p style="margin: 0cm 0cm 0pt" class="MsoNormalIndent"><font size="3"><span lang="EN-US"><font face="Times New Roman">100%</font></span><span style="font-family: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">的数据满足：</span><span lang="EN-US"><font face="Times New Roman"> n&lt;=1000</font></span></font></p>
<p>&nbsp;</p><div>编译语言：CPP,C0X,VC9,C,JAVA,PAS,PYTHON</div>
